/*! 
 Build based on gin-vue-admin 
 Time : 1699839817000 */
import{a as e,P as a,o as t,c as l,d as s,b as o,w as i,g as r,M as u,N as n,n as d,t as p,ak as c,G as m,cZ as B,k as v,E as D,J as y,l as C}from"./087AC4D233B64EB0index.js";import{E as f}from"./087AC4D233B64EB0dialog.js";import"./087AC4D233B64EB0overlay.js";import{a as E,E as j}from"./087AC4D233B64EB0form-item.js";import{E as A}from"./087AC4D233B64EB0switch.js";/* empty css                     */import{E as b}from"./087AC4D233B64EB0scrollbar.js";/* empty css                      */import{E as g}from"./087AC4D233B64EB0popover.js";/* empty css                     *//* empty css                      */import{g as x,f as h,d as w,c as _,u as k}from"./087AC4D233B64EB0sysDictionary2.js";import{_ as V}from"./087AC4D233B64EB0warningBar.js";import I from"./087AC4D233B64EB0sysDictionaryDetail.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0index21.js";import"./087AC4D233B64EB0dropdown.js";import"./087AC4D233B64EB0input-number.js";import"./087AC4D233B64EB0index26.js";import"./087AC4D233B64EB0pagination.js";import"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0debounce.js";import"./087AC4D233B64EB0tag.js";import"./087AC4D233B64EB0hasIn.js";import"./087AC4D233B64EB0table-column.js";import"./087AC4D233B64EB0checkbox.js";/* empty css                       */import"./087AC4D233B64EB0format.js";import"./087AC4D233B64EB0date.js";import"./087AC4D233B64EB0dictionary.js";const U={class:"dict-box flex gap-4"},q={class:"w-64 bg-white p-4"},O={class:"flex justify-between items-center"},F=o("span",{class:"text font-bold"},"字典列表",-1),G=["onClick"],J={class:"max-w-[160px] truncate"},M=o("p",null,"确定要删除吗？",-1),N={style:{"text-align":"right","margin-top":"8px"}},P={class:"flex-1 bg-white"},S={class:"dialog-footer"},Z=Object.assign({name:"SysDictionary"},{__name:"sysDictionary",setup(Z){const z=e(1),H=e({name:null,type:null,status:!0,desc:null}),K=e({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),L=e([]),Q=async()=>{const e=await x();0===e.code&&(L.value=e.data)};Q();const R=e(!1),T=e(""),W=()=>{R.value=!1,H.value={name:null,type:null,status:!0,desc:null}},X=e(null),Y=async()=>{X.value.validate((async e=>{if(!e)return;let a;switch(T.value){case"create":default:a=await _(H.value);break;case"update":a=await k(H.value)}0===a.code&&(v.success("操作成功"),W(),Q())}))},$=()=>{T.value="create",R.value=!0};return(e,x)=>{const _=D,k=y,Z=a("Delete"),ee=g,ae=b,te=C,le=E,se=A,oe=j,ie=f;return t(),l("div",null,[s(V,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),o("div",U,[o("div",q,[o("div",O,[F,s(_,{type:"primary",onClick:$},{default:i((()=>[r(" 新增 ")])),_:1})]),s(ae,{class:"mt-4",style:{height:"calc(100vh - 300px)"}},{default:i((()=>[(t(!0),l(u,null,n(L.value,(e=>(t(),l("div",{key:e.ID,class:d(["rounded flex justify-between items-center px-2 py-4 cursor-pointer mt-2 hover:bg-blue-50 hover:text-gray-800 group bg-gray-50",z.value===e.ID&&"active"]),onClick:a=>{return t=e,void(z.value=t.ID);var t}},[o("span",J,p(e.name),1),o("div",null,[s(k,{class:d(["group-hover:text-blue-500",z.value===e.ID?"text-white-800":"text-blue-500"]),onClick:c((a=>(async e=>{const a=await h({ID:e.ID,status:e.status});T.value="update",0===a.code&&(H.value=a.data.resysDictionary,R.value=!0)})(e)),["stop"])},{default:i((()=>[s(m(B))])),_:2},1032,["class","onClick"]),s(ee,{placement:"top",width:"160"},{reference:i((()=>[s(k,{class:d(["ml-2 group-hover:text-red-500",z.value===e.ID?"text-white-800":"text-red-500"])},{default:i((()=>[s(Z)])),_:2},1032,["class"])])),default:i((()=>[M,o("div",N,[s(_,{type:"primary",link:"",onClick:a=>e.visible=!1},{default:i((()=>[r("取消")])),_:2},1032,["onClick"]),s(_,{type:"primary",onClick:a=>(async e=>{e.visible=!1,0===(await w({ID:e.ID})).code&&(v({type:"success",message:"删除成功"}),Q())})(e)},{default:i((()=>[r("确定")])),_:2},1032,["onClick"])])])),_:2},1024)])],10,G)))),128))])),_:1})]),o("div",P,[s(I,{"sys-dictionary-i-d":z.value},null,8,["sys-dictionary-i-d"])])]),s(ie,{modelValue:R.value,"onUpdate:modelValue":x[4]||(x[4]=e=>R.value=e),"before-close":W,title:"create"===T.value?"添加字典":"修改字典"},{footer:i((()=>[o("div",S,[s(_,{onClick:W},{default:i((()=>[r("取 消")])),_:1}),s(_,{type:"primary",onClick:Y},{default:i((()=>[r("确 定")])),_:1})])])),default:i((()=>[s(oe,{ref_key:"dialogForm",ref:X,model:H.value,rules:K.value,"label-width":"110px"},{default:i((()=>[s(le,{label:"字典名（中）",prop:"name"},{default:i((()=>[s(te,{modelValue:H.value.name,"onUpdate:modelValue":x[0]||(x[0]=e=>H.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(le,{label:"字典名（英）",prop:"type"},{default:i((()=>[s(te,{modelValue:H.value.type,"onUpdate:modelValue":x[1]||(x[1]=e=>H.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(le,{label:"状态",prop:"status",required:""},{default:i((()=>[s(se,{modelValue:H.value.status,"onUpdate:modelValue":x[2]||(x[2]=e=>H.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),s(le,{label:"描述",prop:"desc"},{default:i((()=>[s(te,{modelValue:H.value.desc,"onUpdate:modelValue":x[3]||(x[3]=e=>H.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{Z as default};
